{"version":3,"sources":["../../src/pages/bip-detail/bip-detail.module.ts","../../src/pages/bip-detail/bip-detail.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BipDetailPage } from './bip-detail';\n\n@NgModule({\n  declarations: [\n    BipDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BipDetailPage),\n  ],\n})\nexport class BipDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bip-detail/bip-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ApiProvider, BipInterface } from '../../providers/api/api';\nimport { Storage } from '@ionic/storage';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Md5 } from 'ts-md5/dist/md5';\nimport { MessageProvider } from '../../providers/message/message';\n\n/**\n * Generated class for the BipDetailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-bip-detail',\n  templateUrl: 'bip-detail.html',\n})\nexport class BipDetailPage {\n\tpublic bip: number;\n\tpublic item: BipInterface;\n\tpublic bip_response: BipInterface = {\n\t\testadoContrato: '',\n\t\tfechaSaldo: '',\n\t\tid: null,\n\t\tsaldoTarjeta: '',\n\t\tfecha_consulta: '',\n\t\tid_hash: null\n\t};\n\tpublic bip_storage: BipInterface[] = [];\n\n  constructor(\n  \tpublic navCtrl: NavController\n  \t, public navParams: NavParams\n  \t, public api: ApiProvider\n  \t, public storage: Storage\n  \t, private splashScreen: SplashScreen\n    , private messenger: MessageProvider\n  \t) {\n\n  \tthis.item = navParams.get('item') || {};\n  \tthis.bip = navParams.get('bip') || 0;\n  \t\n  \tthis.storage.get('tarjetas')\n\t\t.then((tarjetas) => {\n\t\t\tif (tarjetas != null) {\n\t\t\t\tthis.bip_storage = tarjetas;\t\t\t\t\t\n\t\t\t} \n\n\t\t\tif (this.bip != 0) {\n\t  \t\tthis.getDatos();\n\t  \t} else if (typeof this.item.id != 'undefined') {\n\t  \t\t this.bip = this.item.id;\n\t  \t\t this.getDatos();\n\t  \t}\n\t\t});  \t\n  }\n\n  ionViewDidLoad() {\n    this.splashScreen.show();\n  }\n\n  getDatos() {\n  \tthis.api.getSaldo(this.bip)\n  \t\t.subscribe(\n  \t\t\tdata => {\n  \t\t\t\tlet fecha_consulta = new Date();\n\t\t\t\t\tlet options = {\n\t\t\t\t\t    hour: \"numeric\", minute: \"numeric\"\n\t\t\t\t\t}\n\n\n  \t\t\t\tthis.splashScreen.hide();\n  \t\t\t\tthis.bip_response = <BipInterface> data;\n  \t\t\t\tthis.bip_response.fecha_consulta = fecha_consulta.toLocaleDateString(\"en-EU\", options);\n  \t\t\t\tthis.bip_response.id_hash = this.bip_storage.length;\n  \t\t\t\tthis.item = this.bip_response;\n  \t\t\t\tthis.bip_storage.push(this.bip_response);\n  \t\t\t\tthis.storage.set('tarjetas', this.bip_storage)\n  \t\t\t\t\t.then(\n  \t\t\t\t\t\tresponse => console.log(response),\n  \t\t\t\t\t\terror => console.log(error)\n  \t\t\t\t\t\t)\n  \t\t\t},\n  \t\t\terror => {\n          this.splashScreen.hide();\n          this.messenger.print('El número ingresado no existe o no es válido');\n  \t\t\t\tthis.navCtrl.pop();\n  \t\t\t}\n\t\t\t)\n  }\n\n  deleteItem(id) {\n  \tthis.storage.get('tarjetas')\n  \t.then((tarjetas) => {\n  \t\tfor (var el in tarjetas) {\n  \t\t\tif (tarjetas[el].id == id) {\n  \t\t\t\tthis.bip_storage.splice(parseInt(el), 1);\n  \t\t\t\tthis.storage.set('tarjetas', this.bip_storage);\n  \t\t\t\tthis.navCtrl.pop();\n  \t\t\t}\n \t\t\t} \t\t\t\n  \t});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bip-detail/bip-detail.ts"],"sourceRoot":""}